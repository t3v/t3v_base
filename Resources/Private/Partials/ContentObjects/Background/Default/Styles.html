<html data-namespace-typo3-fluid="true" lang="en" xmlns:b="http://typo3.org/ns/T3v/T3vBase/ViewHelpers"
      xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">
  <f:if condition="{backgroundColor} || {backgroundImage} || {backgroundPosition} || {backgroundRepeat} || {backgroundSize} || {backgroundHeight} || {backgroundWidth}">
    <b:asset.style name="{signature}-{uid}-css" fluid="true" movable="false" standalone="true">
      #<b:variable.get name="id" /> {
        <f:if condition="{backgroundColor}">
          background-color: {backgroundColor};
        </f:if>

        <f:if condition="{backgroundImage}">
          <b:variable name="height" value="{b:variable.convert(value: backgroundHeight, type: 'integer', default: 256)}" />

          background-image: url('<f:uri.image image="{backgroundImage}" height="{height}c" />');
        </f:if>

        <f:if condition="{backgroundPosition}">
          background-position: {backgroundPosition};
        </f:if>

        <f:if condition="{backgroundRepeat}">
          background-repeat: {backgroundRepeat};
        </f:if>

        <f:if condition="{backgroundSize}">
          background-size: {backgroundSize};
        </f:if>

        <f:if condition="{backgroundHeight}">
          height: {backgroundHeight}px;
        </f:if>

        <f:if condition="{backgroundWidth}">
          width: {backgroundWidth}px;
        </f:if>
      }

      <f:if condition="{backgroundImage}">
        <v:variable.set name="height" value="{b:variable.convert(value: backgroundHeight, type: 'integer', default: 256)}" />

        @media only screen and (-webkit-min-device-pixel-ratio: 1.5625), only screen and (min-resolution: 150dpi) {
          #<b:variable.get name="id" /> {
            background-image: url('<f:uri.image image="{backgroundImage}" height="{height * 2}c" />');
          }
        }
      </f:if>
    </b:asset.style>
  </f:if>
</html>
